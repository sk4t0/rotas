{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["window._ = require('lodash');\nwindow.$ = window.jQuery = require('jquery');\nvar notifications = [];\n\nconst NOTIFICATION_TYPES = {\n    permissions: 'App\\\\Notifications\\\\NewPermission'\n};\n\n$(document).ready(function() {\n    // check if there's a logged in user\n    if(Laravel.userId) {\n        $.get('/' + Laravel.adminRoute + '/notifications', function (data) {\n            addNotifications(data, \"#notifications\");\n        });\n    }\n});\n\nfunction addNotifications(newNotifications, target) {\n    notifications = _.concat(notifications, newNotifications);\n    showNotifications(notifications, target);\n}\n\n\nfunction showNotifications(notifications, target) {\n    if(notifications.length) {\n        var htmlElements = notifications.map(function (notification) {\n            return makeNotification(notification);\n        });\n        $(target + 'Menu').html(htmlElements.join(''));\n        $(target).addClass('has-notifications');\n        $(target + 'Count').text(notifications.length).show();\n    } else {\n        $(target + 'Menu').html('<li class=\"dropdown-header\">No notifications</li>');\n        $(target).removeClass('has-notifications');\n        $(target + 'Count').hide();\n    }\n}\n\n// Make a single notification string\nfunction makeNotification(notification) {\n    var to = routeNotification(notification);\n    var notificationText = makeNotificationText(notification);\n    var icon = makeNotificationIcon(notification);\n    return '<li><a href=\"' + to + '\"><i class=\"fa fa-' + icon + ' text-aqua\"></i>' + notificationText + '</a></li>';\n}\n\n// get the notification route based on it's type\nfunction routeNotification(notification) {\n    var to = notification.data.action + '?read=' + notification.id;\n    return to;\n}\n\n// get the notification text based on it's type\nfunction makeNotificationText(notification) {\n    var text = notification.data.message;\n    return text;\n}\n\n// get the notification text based on it's type\nfunction makeNotificationIcon(notification) {\n    var icon = '';\n    if(notification.data.icon){\n        icon = notification.data.icon;\n    } else {\n        icon = 'info-circle';\n    }\n    return icon;\n}"]}